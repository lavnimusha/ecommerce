{"ast":null,"code":"var _jsxFileName = \"/Users/lavanyagurajada/enguyen/ecommerce/src/Components/CartDataContext.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { database } from \"../firebase-config\";\nimport { ref, onValue } from \"firebase/database\";\nimport { createContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext({\n  cart: {\n    id: {\n      picture: '',\n      title: '',\n      price: ''\n    }\n  },\n  setCart: () => null\n});\n\nconst CartDataContext = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [cart, setCart] = useState({});\n  useEffect(() => {\n    // Update the document title using the browser API\n    const starCountRef = ref(database, 'shopping/');\n    onValue(starCountRef, snapshot => {\n      const data = snapshot.val();\n      setCart(data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      setCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 1\n  }, this);\n};\n\n_s(CartDataContext, \"BGLqthHtqioGnvz1FcLcwAGxS3I=\");\n\n_c = CartDataContext;\nexport default CartDataContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartDataContext\");","map":{"version":3,"names":["React","useEffect","useState","database","ref","onValue","createContext","CartContext","cart","id","picture","title","price","setCart","CartDataContext","children","starCountRef","snapshot","data","val"],"sources":["/Users/lavanyagurajada/enguyen/ecommerce/src/Components/CartDataContext.tsx"],"sourcesContent":["\nimport React, { useContext, useEffect, useState, FunctionComponent, useCallback } from 'react'\nimport {database} from \"../firebase-config\"\nimport { getDatabase, ref, onValue} from \"firebase/database\";\nimport {useReducer, createContext} from 'react'\n\n  interface Product  {\n    picture: string,\n    title: string,\n    price: string\n  }\n  interface ProductEntry {\n    [key:string]: Product\n  }\n  type Props = {\n    children: JSX.Element,\n  };\n\n  export const CartContext = createContext<{\n    cart: ProductEntry;\n    setCart: Function; //action type here\n  }>({\n    cart: {id: {picture:'', title:'', price:''}},\n    setCart: () => null,\n  }); \n\nconst CartDataContext = ({children}: Props) =>  {\n\n  const [cart, setCart] =  useState<ProductEntry>({})\n  \n\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    const starCountRef = ref(database, 'shopping/');\n    onValue(starCountRef, (snapshot) => {\n      const data = snapshot.val();\n      setCart(data)\n      \n    });\n    \n  },[])\n\n    \n  return (\n     \n<CartContext.Provider value={{cart, setCart}}>\n      {children}\n    </CartContext.Provider>\n  )\n}\n\nexport default CartDataContext"],"mappings":";;;AACA,OAAOA,KAAP,IAA4BC,SAA5B,EAAuCC,QAAvC,QAAuF,OAAvF;AACA,SAAQC,QAAR,QAAuB,oBAAvB;AACA,SAAsBC,GAAtB,EAA2BC,OAA3B,QAAyC,mBAAzC;AACA,SAAoBC,aAApB,QAAwC,OAAxC;;AAcE,OAAO,MAAMC,WAAW,gBAAGD,aAAa,CAGrC;EACDE,IAAI,EAAE;IAACC,EAAE,EAAE;MAACC,OAAO,EAAC,EAAT;MAAaC,KAAK,EAAC,EAAnB;MAAuBC,KAAK,EAAC;IAA7B;EAAL,CADL;EAEDC,OAAO,EAAE,MAAM;AAFd,CAHqC,CAAjC;;AAQT,MAAMC,eAAe,GAAG,QAAwB;EAAA;;EAAA,IAAvB;IAACC;EAAD,CAAuB;EAE9C,MAAM,CAACP,IAAD,EAAOK,OAAP,IAAmBX,QAAQ,CAAe,EAAf,CAAjC;EAIAD,SAAS,CAAC,MAAM;IACd;IACA,MAAMe,YAAY,GAAGZ,GAAG,CAACD,QAAD,EAAW,WAAX,CAAxB;IACAE,OAAO,CAACW,YAAD,EAAgBC,QAAD,IAAc;MAClC,MAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAb;MACAN,OAAO,CAACK,IAAD,CAAP;IAED,CAJM,CAAP;EAMD,CATQ,EASP,EATO,CAAT;EAYA,oBAEF,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MAACV,IAAD;MAAOK;IAAP,CAA7B;IAAA,UACOE;EADP;IAAA;IAAA;IAAA;EAAA,QAFE;AAMD,CAxBD;;GAAMD,e;;KAAAA,e;AA0BN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}