{"ast":null,"code":"import _slicedToArray from\"/Users/lavanyagurajada/enguyen/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{database}from\"../firebase-config\";import{ref,onValue}from\"firebase/database\";import{createContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var CartContext=/*#__PURE__*/createContext({cart:{id:{picture:'',title:'',price:''}},setCart:function setCart(){return null;}});var CartDataContext=function CartDataContext(_ref){var children=_ref.children;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];useEffect(function(){// Update the document title using the browser API\nvar starCountRef=ref(database,'shopping/');onValue(starCountRef,function(snapshot){var data=snapshot.val();setCart(data);});},[]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart:cart,setCart:setCart},children:children});};export default CartDataContext;","map":{"version":3,"names":["React","useEffect","useState","database","ref","onValue","createContext","CartContext","cart","id","picture","title","price","setCart","CartDataContext","children","starCountRef","snapshot","data","val"],"sources":["/Users/lavanyagurajada/enguyen/ecommerce/src/Components/CartDataContext.tsx"],"sourcesContent":["\nimport React, { useContext, useEffect, useState, FunctionComponent, useCallback } from 'react'\nimport {database} from \"../firebase-config\"\nimport { getDatabase, ref, onValue} from \"firebase/database\";\nimport {useReducer, createContext} from 'react'\n\n  interface Product  {\n    picture: string,\n    title: string,\n    price: string\n  }\n  interface ProductEntry {\n    [key:string]: Product\n  }\n  type Props = {\n    children: JSX.Element,\n  };\n\n  export const CartContext = createContext<{\n    cart: ProductEntry;\n    setCart: Function; //action type here\n  }>({\n    cart: {id:{picture:'', title:'', price:''}},\n    setCart: () => null,\n  }); \n\nconst CartDataContext = ({children}: Props) =>  {\n\n  const [cart, setCart] =  useState<ProductEntry>({})\n  \n\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    const starCountRef = ref(database, 'shopping/');\n    onValue(starCountRef, (snapshot) => {\n      const data = snapshot.val();\n      setCart(data)\n      \n    });\n    \n  },[])\n\n    \n  return (\n     \n<CartContext.Provider value={{cart, setCart}}>\n      {children}\n    </CartContext.Provider>\n  )\n}\n\nexport default CartDataContext"],"mappings":"8HACA,MAAOA,MAAP,EAA4BC,SAA5B,CAAuCC,QAAvC,KAAuF,OAAvF,CACA,OAAQC,QAAR,KAAuB,oBAAvB,CACA,OAAsBC,GAAtB,CAA2BC,OAA3B,KAAyC,mBAAzC,CACA,OAAoBC,aAApB,KAAwC,OAAxC,C,2CAcE,MAAO,IAAMC,YAAW,cAAGD,aAAa,CAGrC,CACDE,IAAI,CAAE,CAACC,EAAE,CAAC,CAACC,OAAO,CAAC,EAAT,CAAaC,KAAK,CAAC,EAAnB,CAAuBC,KAAK,CAAC,EAA7B,CAAJ,CADL,CAEDC,OAAO,CAAE,yBAAM,KAAN,EAFR,CAHqC,CAAjC,CAQT,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,MAAwB,IAAtBC,SAAsB,MAAtBA,QAAsB,CAE9C,cAAyBb,QAAQ,CAAe,EAAf,CAAjC,wCAAOM,IAAP,eAAaK,OAAb,eAIAZ,SAAS,CAAC,UAAM,CACd;AACA,GAAMe,aAAY,CAAGZ,GAAG,CAACD,QAAD,CAAW,WAAX,CAAxB,CACAE,OAAO,CAACW,YAAD,CAAe,SAACC,QAAD,CAAc,CAClC,GAAMC,KAAI,CAAGD,QAAQ,CAACE,GAAT,EAAb,CACAN,OAAO,CAACK,IAAD,CAAP,CAED,CAJM,CAAP,CAMD,CATQ,CASP,EATO,CAAT,CAYA,mBAEF,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAACV,IAAI,CAAJA,IAAD,CAAOK,OAAO,CAAPA,OAAP,CAA7B,UACOE,QADP,EAFE,CAMD,CAxBD,CA0BA,cAAeD,gBAAf"},"metadata":{},"sourceType":"module"}